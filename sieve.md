# Adspect Sieve&trade;

Adspect Sieve&trade; --- это локально устанавливаемая (standalone) версия фильтрующего движка Adspect.
Это программное обеспечение включает в себя [все технологии, составляющие ядро системы Adspect](how-it-works.md):
обширные черные списки, фильтрацию по JavaScript-отпечаткам и [машинное обучение VLA&trade;](how-it-works.md#vla).

Фильтрация трафика происходит полностью локально на вашем сервере без обращений в облако Adspect
в реальном времени. Это существенно ускоряет процесс обработки каждого перехода. ПО Adspect Sieve&trade;
написано на языке программирования C++ и обладает колоссальной вычислительной мощностью, которая
ограничена лишь аппаратными ресурсами вашего сервера и пропускной способностью его сетевого канала.

Ни данные о переходах, ни какие-либо иные сведения не отправляются в Adspect. Ваша статистика
не покидает вашего сервера и таким образом остается полностью конфиденциальной. Adspect Sieve&trade;
лишь синхронизирует фильтры и информацию о подписке время от времени в фоновом режиме. Даже если
связь с Adspect теряется или срок подписки заканчивается, то Sieve продолжит работу автономно в
течение трех дней.

:::{note}
Потоки облачного сервиса Adspect не используются в Sieve. Вам не нужно ничего настраивать в личном
кабинете Adspect, кроме приобретения подписки и получения ID аккаунта и ключа API для запуска Sieve.
:::

## Установка

Adspect Sieve&trade; является "низкоуровневым" программным обеспечением --- Unix-демоном, установка и настройка которого обычно
производится при помощи интерфейса командной строки и таким образом требует базовых навыков работы с Unix-подобными операционными
системами. На данный момент дистрибутив Adspect Sieve&trade; предоставляется только для операционных систем Debian и Ubuntu.

Для установки Adspect Sieve&trade; загрузите файл дистрибутива `adspectd_3.1_amd64.deb` на сервер и выполните
следующую команду от имени суперпользователя:

```bash
dpkg -i adspectd_3.1_amd64.deb
```

Все нижеследующие команды также следует выполнять от имени суперпользователя.

## Подготовка к работе

Для использования Adspect Sieve&trade; необходима [подписка "Клоакинг"](https://www.adspect.ai/ru/pricing).
При наличии данной подписки в профиле в личном кабинете Adspect будет доступен ключ API, при помощи которого
можно активировать сервис.  Для этого нужно передать ID аккаунта и ключ API в adspectd (подставьте свои значения):

```bash
echo '{"account":"1eb5991f-a25b-68f4-b171-00162501c2b4","api_key":"xMgy2m81qLfDsULtqDNJEN-iuJJ1aUyG"}' >/var/lib/adspect/adspectd.state
systemctl restart adspectd
```

После этого следует проверить статус сервиса, чтобы убедиться, что функциональность активирована:

```bash
systemctl status adspectd
```

В конце вывода этой команды вы должны увидеть лог подобного содержания:

```
[Information] Adspect Sieve software release 3.1
[Information] Copyright (C) 2019-2023 by Adspect
[Information] Authorizing for account ID: 1eb5991f-a25b-68f4-b171-00162501c2b4
[Information] Lease acquired through 2022-12-15 17:36:26
[Information] HTTP server listening on 127.0.0.1:8003
```

Данная информация говорит о том, что демон adspectd запущен, подписка активирована, а HTTP API доступен по адресу 127.0.0.1:8003.
