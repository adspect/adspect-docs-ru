# Обзор

## Что такое Adspect

[**Adspect**](https://www.adspect.ai/) --- это функциональный и гибкий облачный сервис, предназначенный для защиты
рекламных кампаний (CPA-офферов, лендингов) от нежелательного трафика. Под нежелательным трафиком мы понимаем:

* **модераторов рекламных сетей**
* ботов spy-сервисов (сервисов для отслеживания чужих рекламных кампаний)
* ботов антивирусных компаний
* [скликивание (кликфрод)](https://ru.wikipedia.org/wiki/%D0%9A%D0%BB%D0%B8%D0%BA%D1%84%D1%80%D0%BE%D0%B4)
* рекламодателей-конкурентов
* и другие разновидности нецелевых или откровенно враждебных посетителей

Принцип действия следующий: посетители (трафик любого рода: рекламный, почтовый, органика и т.п.) переходят не сразу
на ваш основной контент, но сперва на промежуточный PHP-скрипт, который собирает подробную информацию о посетителе.
После оценки более чем сотней различных проверок Adspect дает заключение является ли посетитель целевым или неблагонадежным.
Целевым посетителям отображается ваш основной контент, в то время как неблагонадежные получают совершенно другой,
не содержащий чувствительной информации (т.н. "белую страницу").

:::{note}
Часто задаваемые вопросы и ответы перечислены в нашем [FAQ](https://www.adspect.ai/faq).
:::

## Источники трафика

Adspect работает со всеми источниками трафика, как существующими, так и теми, которые только появятся в будущем --- наши алгоримты
фильтрации трафика абсолютно универсальны и одинаково эффективно обрабатывают любой трафик, откуда бы он ни поступал.

:::{table} Наиболее популярные источники трафика при работе с Adspect

| Социальные  | Контекстные       | Медийная реклама       | Adult           | Магазины приложений |
|:------------|:------------------|:-----------------------|:----------------|:--------------------|
| Facebook    | Google Ads        | Google Display Network | ExoClick        | Google Play         |
| Instagram   | Bing Ads          | Microsoft Advertising  | TrafficStars    | App Store           |
| TikTok      | Yahoo Search      | Yahoo Gemini           | TrafficJunky    | Amazon Appstore     |
| X (Twitter) | Яндекс Директ     | Рекламная сеть Яндекса | Traffic Factory | Galaxy Store        |
| Telegram    | Amazon Ads        | myTarget               | PopAds          |                     |
| LinkedIn    | Baidu Advertising | Taboola                | TwinRed         |                     |
| ВКонтакте   |                   | Outbrain               | JuicyAds        |                     |
| Quora       |                   | ProperllerAds          | Adsterra        |                     |
| Snapchat    |                   | MGID                   | CrakRevenue     |                     |
| WeChat      |                   | ZeroPark               |                 |                     |
:::

Мы защищаем ваши лендинги и офферы от различных антивирусных, ИБ и скоринговых компаний, в том числе:

* **Google Safe Browsing**
* **GeoEdge**
* Confiant
* AdSecure
* The Media Trust
* Ad Lightning
* Integral Ad Science
* Лаборатории Касперского
* Avast
* NortonLifeLock
* резидентских и мобильных прокси, **включая Bright Data (Luminati) и GeoSurf**
* и многих других

## Интеграция

Adspect поддерживает три типа интеграции, которые отличаются техническими деталями и областью применения:

* Прямая PHP-интеграция при помощи отдельного файла `index.php`
* Обратная PHP-интеграция при помощи подключения файла `filter.php`
* JavaScript-интеграция при помощи HTML-тега `<script>` и внешнего файла `ajax.php`

:::{note}
Более подробная информация содержится в главе ["Интеграция"](integration.md).
:::

## Системные требования

Для работы с Adspect вам потребуется следующая конфигурация:

* VPS, выделенный сервер или виртуальный хостинг
* PHP 5.6 или новее
* Расширение [php-curl](https://www.php.net/manual/ru/book.curl.php)
* Расширение [php-json](https://www.php.net/manual/ru/book.json.php)

Вы можете посмотреть вашу конфигурацию PHP при помощи следующего скрипта:

```php
<?php phpinfo();
```

## Хостинг

Adspect лучше всего работает на VPS и выделенных серверах. Виртуальный хостинг также поддерживается,
но не рекомендуется из-за различных технических нюансов, связанных с ним.

:::{warning}
Не используйте следующие хостинг-провайдеров:

* Hostinger (антивирус ложно срабатывает на PHP-файлы)
* Beget ([некорректно работает с Cloudflare](troubleshooting.md#cloudflare))
* UkrNames, Ukraine.com.ua ([неадекватный файрвол](troubleshooting.md#forbidden-403))
:::

Мы рекомендуем следующих хостинг-провайдеров:

* **[Inferno Solutions](https://cp.inferno.name/aff.php?aff=2952) --- без KYC!**
  :::{tip}
  Получите скидку по нашим промо-кодам:

  * `ADSPECT25VPS` --- скидка 25% на первый платеж для всех VPS за период 1, 3, 6 месяцев;
  * `ADSPECT25SSDVPS` --- скидка 25% на первый платеж для всех SSD VPS за 1, 3, 6 месяцев;
  * `ADSPECT25SSDVPSRU` --- скидка 25% на первый платеж для всех SSD VPS в России;
  * `ADSPECT15SSDVPSPL` --- скидка 15% на первый платеж для всех SSD VPS в Польше;
  * `ADSPECT15DEDI` --- скидка $15 на первый платеж для серверов RU-xx и NL3-xx.
  :::
* [Timeweb](https://timeweb.com/ru/?i=81573)
  :::{tip}
  Получите скидку по нашим промо-кодам:

  * `ADSPECT1MFREE1Y` --- один месяц хостинга бесплатно при оплате одного года;
  * `ADSPECT3MFREE2Y` --- три месяца хостинга бесплатно при оплате двух лет.
  :::
* [OVHcloud](https://www.ovhcloud.com/)
* [Linode](https://www.linode.com/)
* [LeaseWeb](https://www.leaseweb.com/)
* [Hetzner Online](https://www.hetzner.com/)
* [servers.com](https://www.servers.com/)

## CDN

Adspect полностью поддерживает работу через CDN, такие как Cloudflare. Мы рекомендуем всегда размещать свои
домены на Cloudflare с включенным проксированием (иконка желтого облака у DNS A-записи домена); для этого
достаточно бесплатного тарифа Cloudflare.

:::{attention}
Для корректного распознавания реального IP-адреса посетителя CDN должна передавать его в одном из стандартных HTTP-заголовков
(в порядке их проверки): `X-Forwarded-For`, `X-Real-IP`, `Real-IP`, `CF-Connecting-IP`. Cloudflare делает это по умолчанию,
отдельная настройка не требуется.
:::

## Порядок работы

Типичный порядок работы с Adspect для защиты рекламных кампаний в партнерском маркетинге выглядит следующим образом:

1. [Создаете поток](streams.md) в Adspect;
2. Выбираете подходящий вам тип интеграции и следуете соответствующим инструкциям на странице интеграции;
3. Переключаете поток в режим "Контент" и проверяете, что контент-страница отображается корректно;
4. Переключаете поток в режим "Белая страница" и проверяете, что белая страница отображается корректно;
5. Переключаете поток в режим "Фильтр" и проверяете, что **вам показывается контент-страница** без каких-либо
   ошибок (временно отключите любые ручные фильтры, чтобы они вас не заблокировали);
6. Переключаете поток в режим "Модерация";
7. Создаете рекламную кампанию и отправляете ее на проверку;
8. Ожидаете одобрения вашей кампании модерацией рекламной сети и переключаете поток в режим "Фильтр";
9. Запускаете трафик и анализируете его показатели в разделе ["Статистика"](reporting.md).
